<h2 mat-dialog-title>{{ dialogTitle }}</h2>
<mat-dialog-content>
  <div class="location-info">
    <div class="info-row">
      <span class="label">{{ callNumberLabel }}</span>
      <span class="value" dir="ltr">{{ data.callNumber || notAvailableMessage }}</span>
    </div>

    <!-- Loading State -->
    <ng-container *ngIf="isLoading">
      <div class="loading-container">
        <mat-spinner diameter="40"></mat-spinner>
        <span class="loading-text">{{ loadingMessage }}</span>
      </div>
    </ng-container>

    <!-- Content when loaded -->
    <ng-container *ngIf="!isLoading">
      <ng-container *ngIf="mapping; else noMapping">
        <div class="info-row">
          <span class="label">{{ sectionLabel }}</span>
          <span class="value">{{ getSectionDescription() }}</span>
        </div>
        <div class="info-row" *ngIf="mapping.floor">
          <span class="label">{{ floorLabel }}</span>
          <span class="value">{{ mapping.floor }}</span>
        </div>

        <!-- SVG Shelf Map -->
        <tau-shelf-map-svg
          [highlightedShelfCode]="mapping.svgCode"
          [initialFloor]="mapping.floor || '1'"
          [language]="currentLanguage">
        </tau-shelf-map-svg>
      </ng-container>

      <ng-template #noMapping>
        <div class="no-mapping-message" *ngIf="data.callNumber">
          <p>{{ noMappingMessage }}</p>
        </div>
      </ng-template>
    </ng-container>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button (click)="dialogRef.close()">{{ closeLabel }}</button>
</mat-dialog-actions>
