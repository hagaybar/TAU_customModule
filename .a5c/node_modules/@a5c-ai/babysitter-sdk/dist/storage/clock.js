"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getClockDate = getClockDate;
exports.getClockIsoString = getClockIsoString;
exports.setClockForTests = setClockForTests;
exports.resetClock = resetClock;
function systemClock() {
    return new Date();
}
let activeClock = systemClock;
function getClockDate() {
    const current = activeClock();
    if (!(current instanceof Date)) {
        throw new Error("Clock provider must return a Date instance");
    }
    return new Date(current.getTime());
}
function getClockIsoString() {
    return getClockDate().toISOString();
}
function setClockForTests(provider) {
    if (typeof provider !== "function") {
        throw new Error("setClockForTests requires a function");
    }
    activeClock = provider;
}
function resetClock() {
    activeClock = systemClock;
}
