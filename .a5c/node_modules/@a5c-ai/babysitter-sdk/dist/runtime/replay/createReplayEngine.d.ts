import { RunMetadata } from "../../storage/types";
import { EffectIndex } from "./effectIndex";
import { ReplayCursor } from "./replayCursor";
import { ProcessContext } from "../types";
import { InternalProcessContext } from "../processContext";
import { StateCacheSnapshot } from "./stateCache";
export interface CreateReplayEngineOptions {
    runDir: string;
    now?: () => Date;
    logger?: (...args: any[]) => void;
}
export interface ReplayEngine {
    runId: string;
    runDir: string;
    metadata: RunMetadata;
    inputs?: unknown;
    effectIndex: EffectIndex;
    replayCursor: ReplayCursor;
    context: ProcessContext;
    internalContext: InternalProcessContext;
    stateCache?: StateCacheSnapshot | null;
    stateRebuild?: {
        reason: string;
        previous?: {
            seq: number;
            ulid: string;
        } | null;
    } | null;
}
export declare function createReplayEngine(options: CreateReplayEngineOptions): Promise<ReplayEngine>;
//# sourceMappingURL=createReplayEngine.d.ts.map